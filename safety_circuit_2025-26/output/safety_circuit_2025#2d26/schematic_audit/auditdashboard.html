<!-- ---------------------------------------------------------------------- 	-->
<!-- Cadence Design Systems											   			-->
<!-- (c) 2019 Cadence Design Systems, Inc. All rights reserved.					-->
<!-- This work may not be copied, modified, re-published, uploaded, 			-->
<!-- executed, or distributed in any way, in any medium, whether in 			-->
<!-- whole or in part, without prior written permission from Cadence 			-->
<!-- Design Systems, Inc.														-->
<!-- ---------------------------------------------------------------------- 	-->
<!DOCTYPE html>
<html>
  <head>
	<meta charset="UTF-8" />
	<title>Schematic Audit</title>
	<link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="./css/ng-table.min.css">
	<link rel="stylesheet" type="text/css" href="./fonts/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="./css/dashboardstyle-dark.css">
	<script type="text/javascript" src="./scripts/i18next-19.8.2.min.js"></script>
	<script type="text/javascript" src="./scripts/l18ndata_audit.js"></script>
	<script type="text/javascript" src="./scripts/d3-scale-radial.js"></script>
	<script type="text/javascript" src="./scripts/d3.v5.min.js"></script>
	<script type="text/javascript" src="./scripts/angular.min.js"></script>
	<script type="text/javascript" src="./scripts/infinite-scroll.min.js"></script>
	<script type="text/javascript" src="./scripts/ui-bootstrap-tpls-1.0.3.js"></script>
	<script type="text/javascript" src="./scripts/ng-table.min.js"></script>
	<script type="text/javascript" src="./scripts/contextMenu.js"></script>
	<script type="text/javascript" src="./scripts/central.js"></script>
	<script type="text/javascript" src="./scripts/dashboardBarChart.js"></script>
	<script type="text/javascript" src="./scripts/dashboardDonutChart.js"></script>
	<script type="text/javascript" src="./data/audit_data.js"></script>
  </head>
  <body ng-app="dashboardApp" class="uifont normalfont backgroundcolor foregroundtextcolor zeropadding zeromargin overflowauto">
	<div id="loading" class="fullopacity"></div>
	<div id="content" class="zeroopacity fullwidth fullheight zeropadding">
	
		<div id="featurerow" class="fullwidth titleborderstyle inlineblock zeromargin zeropadding clearbothfloat">
			<div id="featurenavigation" class="inlineblock zeropadding overflowhidden middlevertical fullwidth noborder">
				<ul class="navigationtabs textaligncenter">
				  <li class="inline"><a id="schematicAudit" class="active inlineblock textaligncenter moderatelylargefont">Schematic Audit Report</a></li>
				</ul>
			</div>
		</div>
		
		<div id="contentContainer" ng-controller="dasboardController">
			<div id="toolbar" class="toolbarstyle zeropadding">

				<div id="SearchField" class="middlevertical inlineblock form-group has-feedback has-search">
					<span class="fa fa-search form-control-feedback"></span>
					<input type="text" class="form-control"  ng-model="searchText"  ng-model-options="{debounce:300}" ng-change="filter()" placeholder="Search..."/>
					<input id="refreshAuditTableTrigger" type="button" value="Add" class="btn btn-primary nodisplay"  ng-click="refreshTable()"/>
				</div>

				<div id="dashboardcontrols" class="middlevertical inlineblock dashboardcontrolstyle">
					<button id="searchmodecontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><span class="fa-stack fa-1x"><i class="fas fa-lg fa-filter fa-stack-1x" ></i><i class="fas fa-sm fa-plus fa-stack-1x" style="margin-left:8px;margin-top:5px;color:lime;"></i></span></button>
					<button id="chartvisibilitycontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><i class="fas fa-lg fa-chart-pie"></i></button>
					<button id="tablevisibilitycontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><i class="fas fa-lg fa-table"></i></button>
					<button id="viewvisibilitycontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><i class="fas fa-lg fa-chalkboard-teacher"></i></button>
					<button id="configcontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><i class="fas fa-lg fa-cog"></i></button>
					<button id="reruncontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><i id="syncicon" class="fas fa-lg fa-sync-alt"></i></button>
					<button id="restoreviolationcontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><i class="fas fa-lg fa-undo-alt"></i></button>
				</div>

				<div id="exportOptions" class="middlevertical inlineblock btn-group" uib-dropdown is-open="status.isopen">
					<button id="exportformatoption" type="button" data-display="static" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click" class="normalfont noborder controlbuttonstyle" uib-dropdown-toggle ng-disabled="disabled">
						<i class="fas fa-lg fa-download"></i>
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu role="menu" aria-labelledby="exportformatoption">
						<li role="menuitem"><a href="#" onclick="exportPDF()"><img id="pdfsymbol" src="./fonts/svgs/solid/pdf.svg" class="middlevertical"/>&nbsp;&nbsp;PDF</a></li>
						<li role="menuitem"><a href="#" onclick="exportCSV()"><img id="pdfsymbol" src="./fonts/svgs/solid/csv.svg" class="middlevertical"/>&nbsp;&nbsp;CSV</a></li>
					</ul>
				</div>
		
			</div>
			<div id="dashboardcharts" class="fullwidth chartsheight" style="display:flex">
				<div id="donutsummary-card" class="cardbackground chartsheight">
					<div id="donut-card-title" class="largefont alignleft cardttitlebackground cardttitleforeground">
						<span id="donutTitle"></span>
						<button id="donutChart-filter" onclick="resetViolationsFilters()"><i class="fas fa-lg fa-sync-alt"></i></button>
					</div>
					<div id="mainsummary-donut"><div id="empty-mainsummary-donut" class="largefont"><img src="./fonts/svgs/solid/no_donut.svg" style="vertical-align:middle;text-align:center;max-width:25%;max-height:25%;"/>No violations reported</div></div>
					<div id="altsummary-donut"><div id="empty-altsummary-donut" class="largefont"><img src="./fonts/svgs/solid/no_donut.svg" style="vertical-align:middle;text-align:center;max-width:25%;max-height:25%;"/>No waived violations data</div></div>
				</div>
				<div id="stackedBarsummary-card" class="cardbackground chartsheight" style="flex-grow:100">
					<div id="stackedBar-card-title" class="largefont alignleft cardttitlebackground cardttitleforeground">
						<span id="barTitle"></span>
						<button id="stackedBarChart-filter" onclick="resetRulesCheckFilters()"><i class="fas fa-lg fa-sync-alt"></i></button>
					</div>
					<div id="mainsummary-stacked-bar"><div id="empty-mainsummary-stackedbar" class="largefont"><img src="./fonts/svgs/solid/no_graph.svg" style="vertical-align:middle;text-align:center;max-width:25%;max-height:25%;"/>No violations reported</div></div>
					<div id="altsummary-stacked-bar"><div id="empty-altsummary-stackedbar" class="largefont"><img src="./fonts/svgs/solid/no_graph.svg" style="vertical-align:middle;text-align:center;max-width:25%;max-height:25%;"/>No waived violations data</div></div>
				</div>
			</div>
			
			<div id="waiveModalDiv">
				<div class="modaldisclaimer-box">
					<div id="waiveModalDivHeader" class="modaldisclaimer-header" style="cursor:move">
						<button id="closeModalBtn" class="btn btn-labelled btn-sm modaldisclaimer-close" onclick="closeModalDialog()"><i class="fas fa-lg fa-times"></i></button>
						<span id="waiveDialogeTitle" class="modaldisclaimer-title">Add Comments and Waive</span>
					</div>
					<div class="modaldisclaimer-content" style="width:100%;display:table">
						<div class="modal-labels">
							<div class="normalbottommargin"><label id="userTitle" for="username">Waived by</label></div>
							<div class="normalbottommargin"><label id="commentTitle" for="comment">Comments</label></div>
						</div>
						<div class="modal-fields">
							<div><input class="form-control field fullwidth" id="username"></div>
							<div><textarea id="comment" class="form-control field fullwidth" style="resize:vertical;max-height:100px;min-height:60px" ></textarea></div>
						</div>
					</div>
					<div class="modal-footer">
						<button id="saveModalBtn" class="btn">OK</button>
						<button id="closeBtn" class="btn btn-secondary" onclick="closeModalDialog()" style="margin-right:-5px">Cancel</button>
					</div>
				</div>
			</div>

			<div id="dashboardtable" class="tableheight">
			<div id="tablesummary" class="middlevertical inlineblock tablesummarystyle">
				Showing 0 of 0 rows.
			</div>
			<div id="tablecontrols" class="middlevertical inlineblock tablecontrolstyle">
				<button id="filtercontrol" class="normalfont noborder controlbuttonstyle" ng-model="dynamicTooltipText" tooltip-placement="bottom" uib-tooltip="{{dynamicTooltipText}}" tooltip-trigger="mouseenter click"><span class="fa-stack fa-1x"><i class="fas fa-lg fa-filter fa-stack-1x" ></i><i class="fas fa-sm fa-times fa-stack-1x" style="margin-left:8px;margin-top:5px;color:coral;"></i></span></button>
			</div>
			<span class="tabledatatooltip"></span>
				<div id="maindataTable" class="tablescrollwrap">
					<table ng-table="mainTableParams" class="table table-striped normalfont audittable" infinite-scroll="increaseLimit()">
						<tbody>
							<tr ng-repeat="row in filteredData | limitTo:barLimit" context-menu="auditMenuOptions" ng-class="{'selected':row.isChecked}" ng-dblclick="doubleClickAction(row)" ng-mousedown="handleClick($event,row)">
								<td data-header="'headerCheckbox.html'" style="vertical-align:middle">
									<input type="checkbox" id="selectedRow" ng-model="row.isChecked" ng-change="getSelectedRows(row)"/> 
								</td>
								<td data-title="'CATEGORY'" sortable="'Check'" ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Category', $event)" style="width:5%;vertical-align:middle">
									<!-- <span ng-if="row.Name != filteredData[$index-1].Name"> -->
										{{row.Check}}	
								</td>
								<td data-title="'RULE NAME'" sortable="'Name'"ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Name', $event)" style="vertical-align:middle">
									<span style="display:flex">
										<div ng-switch="row.Type" style="padding-right:7px">
											<div ng-switch-when="Fatal" style="color:#753d2f" align="center">
												<i class="fa fa-times-circle"></i>
											</div>
											<div ng-switch-when="Error" style="color:#c21807" align="center">
												<i class="fa fa-exclamation-triangle"></i>
											</div>
											<div ng-switch-when="Warning" style="color:#ffbf00" align="center">
												<i class="fa fa-exclamation-triangle"></i>
											</div>
											<div ng-switch-when="Info" style="color:#e85d04" align="center">
												<i class="fa fa-info-circle"></i>
											</div>								
									</div>{{row.Name}}	
								</td>
								<td data-title="'ID'" sortable="'Id'" ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Id', $event)" style="vertical-align:middle">
									<!-- <span ng-if="row.Id != filteredData[$index-1].Id"> -->
										{{row.Id}}
								</td>
								<td data-title="'MESSAGE'" sortable="'Message'" style="vertical-align:middle">{{row.Message}}</td>
							</tr>
						</tbody>
					</table>
					<div id="empty-main-table" class="largefont" style="text-align-last:center;"><img src="./fonts/svgs/solid/no_data.svg" style="vertical-align:middle;text-align:center;max-width:25%;max-height:25%;"/>No violations data</div>
				</div>
				<div id="alttable" class="tablescrollwrap">
					<table ng-table="altTableParams" class="table table-striped normalfont audittable" infinite-scroll="increaseLimit()">
						<tbody>
							<tr ng-repeat="row in filteredData | limitTo:barLimit" context-menu="ignoredMenuOptions" ng-class="{'selected':row.isChecked}" ng-dblclick="doubleClickAction(row)" ng-mousedown="handleClick($event,row)">
								<td header="'headerCheckbox.html'" style="vertical-align:middle">
									<input type="checkbox" id="selectedRow" ng-model="row.isChecked" ng-change="getSelectedRows(row)"/>
								</td>
								<td data-title="'CATEGORY'" sortable="'Check'" ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Category', $event)" style="width:5%;vertical-align:middle">
									<!-- <span ng-if="row.Name != filteredData[$index-1].Name"> -->
										{{row.Check}}	
								</td>
								<td data-title="'RULE NAME'" sortable="'Name'"ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Name', $event)" style="vertical-align:middle">
									<span style="display:flex">
										<div ng-switch="row.Type" style="padding-right:7px">
											<div ng-switch-when="Fatal" style="color:#753d2f" align="center">
												<i class="fa fa-times-circle"></i>
											</div>
											<div ng-switch-when="Error" style="color:#c21807" align="center">
												<i class="fa fa-exclamation-triangle"></i>
											</div>
											<div ng-switch-when="Warning" style="color:#ffbf00" align="center">
												<i class="fa fa-exclamation-triangle"></i>
											</div>
											<div ng-switch-when="Info" style="color:#e85d04" align="center">
												<i class="fa fa-info-circle"></i>
											</div>
									</div>{{row.Name}}	
								</td>
								<td data-title="'ID'" sortable="'Id'" ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Id', $event)" style="vertical-align:middle">
									<!-- <span ng-if="row.Id != filteredData[$index-1].Id"> -->
										{{row.Id}}
								</td>
								<td data-title="'MESSAGE'" sortable="'Message'" style="vertical-align:middle;width:40%">{{row.Message}}</td>
								<td data-title="'WAIVED BY'" sortable="'username'" ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Username', $event)" style="vertical-align:middle;width:7%">{{row.username}}</td>
								<td data-title="'COMMENT'" sortable="'comment'" ng-mouseenter="handleMouseEnterEvent()" ng-mouseleave="handleMouseLeaveEvent()" ng-mousemove="handleMouseOverEvent('Comment', $event)" style="vertical-align:middle">{{row.comment}}</td>
							
							
							</tr>
						</tbody>
					</table>
					<div id="empty-alt-table" class="largefont" style="text-align-last:center;"><img src="./fonts/svgs/solid/no_data.svg" style="vertical-align:middle;text-align:center;max-width:25%;max-height:25%;"/>No waived violations yet</div>
				</div>
			</div>
			<div id="queryIsDesignReadOnly">
				<div class="modaldisclaimer-box">
					<div class="modaldisclaimer-header">
						<button id="closeQueryIsDesignReadOnlyBtn" class="btn btn-labelled btn-sm modaldisclaimer-close"><i class="fas fa-lg fa-times"></i></button>
						<span id="queryisdesignreadonlytitle" class="modaldisclaimer-title">Project is in read-only state</span>
					</div>
					<div class="modaldisclaimer-content">
						<p id="queryIsDesignReadOnlytext"></p>
					</div>
				</div>
			</div>
		</div>			
	</div>
	<script type="text/javascript" src="./scripts/dashboardUtils.js"></script>
	<script type="text/javascript" src="./scripts/auditdashboard.js"></script>
	<script type="text/ng-template" id="headerCheckbox.html">
		<input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""/>
	</script>
  </body>
</html>
